{% extends 'base.html.twig' %}

{% block title %}Article index{% endblock %}

{% block body %}
    <!-- Breadcrumb Area Start -->
    <section class="breadcrumb-area bg-img bg-overlay jarallax" style="background-image: url({{ asset('assets/img/bg-img/38.jpg') }});">
        <div class="container h-100">
            <div class="row h-100 align-items-center">
                <div class="col-12">
                    <div class="breadcrumb-content text-center">
                        <h2 class="page-title">Administration</h2>
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb justify-content-center">
                                <li class="breadcrumb-item"><a href="{{ path('public') }}"><i class="icon_house_alt"></i> Accueil</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Mes articles</li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Titre</th>
                <th>Categorie</th>
                <th>Description</th>
                <th>Photo</th>
                <th>Photo2</th>
                <th>Photo3</th>
                <th>Photo4</th>
                <th>DatePublication</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for article in articles %}
            <tr>
                <td>{{ article.id }}</td>
                <td>{{ article.titre }}</td>
                <td>{{ article.categorie }}</td>
                <td>{{ article.description }}</td>
                <td><img src="{{ asset('assets/img/article/'~article.photo) }}" alt="image d'article"></td>
                <td><img src="{{ asset('assets/img/article/'~article.photo2) }}" alt="image d'article"></td>
                <td><img src="{{ asset('assets/img/article/'~article.photo3) }}" alt="image d'article"></td>
                <td><img src="{{ asset('assets/img/article/'~article.photo4) }}" alt="image d'article"></td>
                <td>{{ article.datePublication ? article.datePublication|date('Y-m-d') : '' }}</td>
                <td>
                    <a href="{{ path('article_show', {'id': article.id}) }}">Afficher</a>
                    <a href="{{ path('article_edit', {'id': article.id}) }}">Modifier</a>
                    {{ include('article/_delete_form.html.twig') }}
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="10">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <button class="btn alime-btn btn-2 mt-15">
        <a href="{{ path('article_new') }}">Nouvel article</a>
    </button>
    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Message</th>
                <th>PoceBleu</th>
                <th>IdParent</th>
                <th>DatePublication</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for article in articles %}
            {% for commentaire in article.commentaires %}
                <tr>
                    <td>{{ commentaire.id }}</td>
                    <td>{{ commentaire.message }}</td>
                    <td>{{ commentaire.poceBleu }}</td>
                    <td>{{ commentaire.idParent }}</td>
                    <td>{{ commentaire.datePublication ? commentaire.datePublication|date('Y-m-d H:i:s') : '' }}</td>
                    <td>
                        <a href="{{ path('commentaire_show', {'id': commentaire.id}) }}">show</a>
                        <a href="{{ path('commentaire_edit', {'id': commentaire.id}) }}">edit</a>
                        {{ include('commentaire/_delete_form.html.twig') }}
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="6">no records found</td>
                </tr>
            {% endfor %}
        {% endfor %}
        </tbody>
    </table>
    
    {# {{ include('commentaire/index.html.twig') }} #}
{% endblock %}
